{% extends "base.html" %}
{% block title %}Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±{% endblock %}
{% block head %}
<style>
  .wrap{max-width:1000px;margin:24px auto;padding:0 16px}
  .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;font-weight:700}
  .btn-primary{background:linear-gradient(135deg,#2563eb,#3b82f6);border-color:transparent;color:#fff}
  table{width:100%;border-collapse:separate;border-spacing:0 10px}
  th{font-weight:800;text-align:right;color:#6b7280}
  td,th{padding:10px 12px}
  .row{background:#fff;border:1px solid #e5e7eb;border-radius:12px}
  .badge{border-radius:999px;background:#eef2ff;color:#1f2937;padding:4px 10px;font-size:.85rem}
  .muted{color:#6b7280}
  .actions a,.actions form{display:inline-block;margin-inline-start:6px}
  .danger{background:#b91c1c;color:#fff;border-color:transparent}
</style>
{% endblock head %}

{% block content %}
<div class="wrap" dir="rtl">
  <div class="top">
    <h1>Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h1>
    {% if db_backed %}
      <a class="btn btn-primary" href="{% url 'reports:reporttype_create' %}">â• Ø¥Ø¶Ø§ÙØ© Ù†ÙˆØ¹</a>
    {% endif %}
  </div>

  {% if not db_backed %}
    <p class="muted">ØªØ¹Ø°Ù‘Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ø£Ù† Ù…ÙˆØ¯ÙŠÙ„ <code>ReportType</code> ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„. ØªÙØ¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ø¯Ù†Ø§Ù‡ Ù…Ø±Ø¬Ø¹ÙŠØ© ÙÙ‚Ø· Ù…Ù† Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ.</p>
  {% endif %}

  <table>
    <thead>
      <tr>
        <th>Ø§Ù„ØªØ±ØªÙŠØ¨</th>
        <th>Ø§Ù„Ø±Ù…Ø² (code)</th>
        <th>Ø§Ù„Ø§Ø³Ù…</th>
        <th>Ù†Ø´Ø·</th>
        <th>ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø±ØªØ¨Ø·Ø©</th>
        {% if db_backed %}<th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>{% endif %}
      </tr>
    </thead>
    <tbody>
      {% for it in items %}
        <tr class="row">
          <td>{{ it.order|default:"â€”" }}</td>
          <td><span class="badge">{{ it.code }}</span></td>
          <td>{{ it.name }}</td>
          <td>{% if it.is_active %}âœ…{% else %}â›”{% endif %}</td>
          <td>{{ it.count }}</td>
          {% if db_backed %}
          <td class="actions">
            <a class="btn" href="{% url 'reports:reporttype_update' it.obj.pk %}">âœï¸ ØªØ¹Ø¯ÙŠÙ„</a>
            <form method="post" action="{% url 'reports:reporttype_delete' it.obj.pk %}" onsubmit="return confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ØŸ Ù„Ù† ÙŠÙØ³Ù…Ø­ Ø¨Ø§Ù„Ø­Ø°Ù Ø¥Ù† ÙƒØ§Ù† Ù…Ø³ØªØ®Ø¯Ù…Ù‹Ø§.');">
              {% csrf_token %}
              <button class="btn danger" type="submit">ğŸ—‘ Ø­Ø°Ù</button>
            </form>
          </td>
          {% endif %}
        </tr>
      {% empty %}
        <tr class="row"><td colspan="6">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†ÙˆØ§Ø¹ Ø¨Ø¹Ø¯.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock content %}
